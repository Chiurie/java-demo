<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>home</title>
	<link rel="stylesheet" type="text/css" th:href="@{/resources/easyui/themes/material/easyui.css}" href="../../themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" th:href="@{/resources/easyui/themes/icon.css}" href="../../themes/icon.css">
	<script type="text/javascript" th:src="@{/resources/easyui/jquery.min.js}" src="../../jquery.min.js"></script>
	<script type="text/javascript" th:src="@{/resources/easyui/jquery.easyui.min.js}" src="../../jquery.easyui.min.js"></script>
</head>

<body class="easyui-layout" style="overflow: hidden; border: none; margin: 0px; padding: 0px;">
	<div class="easyui-layout" style="width:100%; height: 100%;">
	
        <div data-options="region:'north'" style="height:50px; background-color: #daeef5; font-size: 17px; padding-left: 20px; padding-top: 15px">
        		X-back
        </div>
        
        <div data-options="region:'west', split:true" title=" " style="width:12%; height:100%;">
	        <ul id="sysMenu" class="easyui-tree" data-options="animate:true">
	        </ul>
        </div>
        
        <div id="contentCenter" data-options="region:'center', title:'center', iconCls:'icon-ok'" style="width:88%;">
        	<div id="centerTabs" class="easyui-tabs" data-options="fit:true,border:false,plain:true">
        	</div>
        </div>
        
    </div>
</body>

<script th:inline="javascript">
	$(function(){
		$.get([[@{/home/menu}]], function(ListData){
			$('#sysMenu').tree({
		    	data: ListData,
		    	onClick: function(node){
			   		if(node.attributes != null){
			   			if(node.attributes.url != null){
			   				var tabIsExists = $('#centerTabs').tabs("exists", node.text);
			   				if(tabIsExists){
			   					// tab已经存在
			   					$('#centerTabs').tabs("select", node.text);
			   				}else{
			   					var content = '<div style="width:100%; height:100%;">';
				   				content	+= '<iframe src="' + node.attributes.url + '" style="width:100%; height:100%; border:0;"></iframe></div>';
			   					$('#centerTabs').tabs('add',{
			    				    title: node.text,
			    				    content: content,
			    				    border: false,
			    				    closable: true,
			    				}); 
			   				}
			   			}
			   		}
			   	}
		    });
		});
	});
</script>






</html>